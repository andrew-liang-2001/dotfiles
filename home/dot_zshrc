# zmodload zsh/zprof

ZIM_HOME=~/.zim
source ${ZIM_HOME}/init.zsh
# Download zimfw plugin manager if missing.
if [[ ! -e ${ZIM_HOME}/zimfw.zsh ]]; then
  curl -fsSL --create-dirs -o ${ZIM_HOME}/zimfw.zsh \
      https://github.com/zimfw/zimfw/releases/latest/download/zimfw.zsh
fi
# Install missing modules, and update ${ZIM_HOME}/init.zsh if missing or outdated.
if [[ ! ${ZIM_HOME}/init.zsh -nt ${ZDOTDIR:-${HOME}}/.zimrc ]]; then
  source ${ZIM_HOME}/zimfw.zsh init -q
fi

setopt AUTO_CD
alias ls="eza"
alias ll='eza -lbGF --git'
alias cat="bat"
alias man="tldr"
alias lg="lazygit"
alias la="eza -a"
alias vi="NVIM_APPNAME=lazyvim nvim"
alias nvim-chad="NVIM_APPNAME=NvChad nvim"

bindkey '^ ' autosuggest-accept

eval "$(fzf --zsh)"
eval "$(zoxide init --cmd cd zsh)"
# eval "$(starship init zsh)"
alias ..="cd .."
alias ~="cd ~"

__conda_setup="$('/Users/andrewliang/miniconda3/bin/conda' 'shell.zsh' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/Users/andrewliang/miniconda3/etc/profile.d/conda.sh" ]; then
        . "/Users/andrewliang/miniconda3/etc/profile.d/conda.sh"
    else
        export PATH="/Users/andrewliang/miniconda3/bin:$PATH"
    fi
fi
unset __conda_setup
# source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
# source $(brew --prefix)/share/zsh-history-substring-search/zsh-history-substring-search.zsh
# source $(brew --prefix)/opt/zsh-vi-mode/share/zsh-vi-mode/zsh-vi-mode.plugin.zsh
# source $(brew --prefix)/share/zsh-autocomplete/zsh-autocomplete.plugin.zsh
timezsh() {
  shell=${1-$SHELL}
  for i in $(seq 1 10); do /usr/bin/time $shell -i -c exit; done
}

# zprof
